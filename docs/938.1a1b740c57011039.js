"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[938],{8938:(G,m,i)=>{i.r(m),i.d(m,{HomeModule:()=>X});var r=i(6019),l=i(1850),g=i(5804),u=i(8314),c=i(4753),d=i(9830),t=i(3668),M=i(2210),x=i(1404),f=i(9468),H=i(9800),F=i(5724);function v(n,o){return o?e=>(0,x.z)(o.pipe((0,f.q)(1),(0,H.l)()),e.pipe(v(n))):(0,F.z)((e,a)=>n(e,a).pipe((0,f.q)(1),function(n){return(0,c.U)(()=>n)}(e)))}var I=i(8213),h=i(4522);let y=(()=>{class n{constructor(e){this.http=e}getMovies(e="10"){return this.http.get(`/movie/now_playing?page=${e}`).pipe(function(n,o=M.z){const e=(0,I.H)(1500,o);return v(()=>e)}())}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(h.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Z=i(8880),z=i(3786);const O=function(){return[20]};function P(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-paginator",1),t.NdJ("page",function(p){return t.CHM(e),t.oxw().onChange(p)}),t.qZA(),t.BQk()}if(2&n){const e=o.ngIf;t.xp6(1),t.Q6J("length",e.total_results)("pageSize",null==e.results?null:e.results.length)("pageSizeOptions",t.DdM(3,O))}}let J=(()=>{class n{constructor(e){this.apiService=e,this.pageEmitter=new t.vpe}ngOnInit(){this.data$=this.apiService.getMovies(),this.data$.subscribe(e=>console.log("data:",e))}onChange(e){this.pageEmitter.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-paginator"]],outputs:{pageEmitter:"pageEmitter"},decls:2,vars:3,consts:[[4,"ngIf"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","page"]],template:function(e,a){1&e&&(t.YNc(0,P,2,4,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,a.data$))},directives:[r.O5,z.NW],pipes:[r.Ov],styles:[""]}),n})();var E=i(3611),B=i(7964);let $=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-spinner"]],decls:2,vars:0,consts:[[1,"spinner"]],template:function(e,a){1&e&&(t.TgZ(0,"section",0),t._UZ(1,"mat-spinner"),t.qZA())},directives:[B.$g],styles:[".spinner[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);padding:0 2rem;align-items:center;display:flex;justify-content:center}@media (min-width: 991px){.spinner[_ngcontent-%COMP%]{min-height:calc(100vh - 184px)}}"]}),n})();function j(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"app-card",6),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("movie",e)}}function N(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"section",4),t.YNc(2,j,2,1,"ng-container",5),t.qZA(),t.BQk()),2&n){const e=o.ngIf;t.xp6(2),t.Q6J("ngForOf",e)}}function Q(n,o){1&n&&t._UZ(0,"app-spinner")}const Y=[{path:"",component:(()=>{class n{constructor(e,a){this.apiService=e,this.store=a}ngOnInit(){this.movies$=(0,g.a)(this.apiService.getMovies().pipe((0,u.j)("results")),this.store.select(d.eI)).pipe((0,c.U)(([e,a])=>[...e,...a]))}changePage(e){let a;a=e.pageIndex<=0?1:e.pageIndex,this.movies$=(0,g.a)(this.apiService.getMovies(a.toString()).pipe((0,u.j)("results")),this.store.select(d.eI)).pipe((0,c.U)(([p,s])=>[...p,...s]))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y),t.Y36(Z.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:4,consts:[[4,"ngIf","ngIfElse"],[1,"paginator"],[3,"pageEmitter"],["loading",""],[1,"grid"],[4,"ngFor","ngForOf"],[3,"movie"]],template:function(e,a){if(1&e&&(t.YNc(0,N,3,1,"ng-container",0),t.ALo(1,"async"),t.TgZ(2,"section",1),t.TgZ(3,"app-paginator",2),t.NdJ("pageEmitter",function(s){return a.changePage(s)}),t.qZA(),t.qZA(),t.YNc(4,Q,1,0,"ng-template",null,3,t.W1O)),2&e){const p=t.MAs(5);t.Q6J("ngIf",t.lcZ(1,2,a.movies$))("ngIfElse",p)}},directives:[r.O5,J,r.sg,E.A,$],pipes:[r.Ov],styles:[".grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));grid-gap:1rem;padding:2rem}"]}),n})()}];let U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Bz.forChild(Y)],l.Bz]}),n})();var L=i(3066),C=i(1002);let S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,C.q]]}),n})(),R=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,S],S]}),n})(),W=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,C.q]]}),n})(),X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,U,h.JF,L.d,W,R]]}),n})()}}]);